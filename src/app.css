@import "tailwindcss";

@custom-variant dark (&.dark);

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: system-ui, -apple-system, sans-serif;
}

/* ── Dark mode transitions ──────────────────────────────────── */
html {
  color-scheme: light;
}
html.dark {
  color-scheme: dark;
}

/* ── Dark mode overrides ────────────────────────────────────── */
html.dark {
  /* Global background and text */
  --tw-bg-opacity: 1;
}

/* Override common bg/text patterns in dark mode */
html.dark .bg-white { background-color: #1f2937 !important; }
html.dark .bg-gray-50 { background-color: #111827 !important; }
html.dark .bg-gray-100 { background-color: #1f2937 !important; }
html.dark .bg-gray-200 { background-color: #374151 !important; }

html.dark .text-gray-800 { color: #f3f4f6 !important; }
html.dark .text-gray-700 { color: #d1d5db !important; }
html.dark .text-gray-600 { color: #d1d5db !important; }
html.dark .text-gray-500 { color: #9ca3af !important; }
html.dark .text-gray-400 { color: #9ca3af !important; }
html.dark .text-gray-300 { color: #d1d5db !important; }

html.dark .text-slate-800 { color: #e2e8f0 !important; }
html.dark .text-slate-700 { color: #cbd5e1 !important; }

html.dark .border-gray-200 { border-color: #374151 !important; }
html.dark .border-gray-300 { border-color: #4b5563 !important; }
html.dark .border-gray-100 { border-color: #374151 !important; }

html.dark .divide-gray-200 > :not(:last-child) { border-color: #374151 !important; }
html.dark .divide-gray-100 > :not(:last-child) { border-color: #374151 !important; }

/* Inputs and form elements */
html.dark input, html.dark textarea, html.dark select {
  background-color: #374151;
  color: #f3f4f6;
  border-color: #4b5563;
}
html.dark input::placeholder, html.dark textarea::placeholder {
  color: #6b7280;
}

/* Hover states */
html.dark .hover\:bg-gray-50:hover { background-color: #374151 !important; }
html.dark .hover\:bg-gray-100:hover { background-color: #374151 !important; }

/* Sidebar and panels */
html.dark .bg-slate-50 { background-color: #1e293b !important; }
html.dark .bg-slate-100 { background-color: #1e293b !important; }
html.dark .border-slate-200 { border-color: #334155 !important; }

/* Scroll bars */
html.dark ::-webkit-scrollbar-track { background: #1f2937; }
html.dark ::-webkit-scrollbar-thumb { background: #4b5563; }

/* Context menus and dropdowns */
html.dark .shadow-xl { --tw-shadow-color: rgba(0,0,0,0.5); }
html.dark .shadow-2xl { --tw-shadow-color: rgba(0,0,0,0.6); }

/* Kbd elements */
html.dark kbd {
  background-color: #374151 !important;
  border-color: #4b5563 !important;
  color: #d1d5db !important;
}

/* Checkboxes / toggle switches */
html.dark .bg-gray-300 { background-color: #4b5563 !important; }

/* Min-h-screen backgrounds */
html.dark .min-h-screen.bg-gray-50 { background-color: #111827 !important; }

/* Blue accent states in dark mode */
html.dark .bg-blue-50 { background-color: #1e3a5f !important; }
html.dark .bg-blue-100 { background-color: #1e3a5f !important; }
html.dark .text-blue-500 { color: #60a5fa !important; }
html.dark .text-blue-600 { color: #60a5fa !important; }
html.dark .ring-blue-200 { --tw-ring-color: #1e40af !important; }
html.dark .border-blue-300 { border-color: #2563eb !important; }
html.dark .border-blue-400 { border-color: #3b82f6 !important; }

/* Red states */
html.dark .bg-red-50 { background-color: #451a1a !important; }
html.dark .text-red-500 { color: #f87171 !important; }
html.dark .hover\:bg-red-50:hover { background-color: #451a1a !important; }

/* Gradient header - already dark, but ensure consistency */
html.dark .bg-gradient-to-r.from-slate-800.to-slate-700 {
  background: linear-gradient(to right, #0f172a, #1e293b) !important;
}

/* Backdrop blur panels */
html.dark .bg-white\/90 { background-color: rgba(31, 41, 55, 0.9) !important; }
html.dark .backdrop-blur { backdrop-filter: blur(8px); }

/* Status bar / bottom bar */
html.dark .bg-slate-700 { background-color: #1e293b !important; }
html.dark .bg-slate-800 { background-color: #0f172a !important; }

/* Purple/rose section headers */
html.dark .text-purple-500 { color: #a78bfa !important; }
html.dark .text-rose-500 { color: #fb7185 !important; }
html.dark .bg-purple-100 { background-color: #2e1065 !important; }
html.dark .bg-rose-100 { background-color: #4c0519 !important; }

/* Template modal */
html.dark .hover\:border-blue-400:hover { border-color: #3b82f6 !important; }
html.dark .hover\:bg-blue-50:hover { background-color: #1e3a5f !important; }
html.dark .bg-blue-50 { background-color: #1e3a5f !important; }

/* ── Print styles ─────────────────────────────────────────────── */
@media print {
  /* Hide everything except the print page */
  body > * {
    display: none !important;
  }
  .print-overlay-backdrop {
    display: block !important;
    position: static !important;
    background: none !important;
    overflow: visible !important;
  }
  .print-hide {
    display: none !important;
  }
  .print-page {
    margin: 0 !important;
    box-shadow: none !important;
    width: 100% !important;
    min-height: auto !important;
    page-break-inside: avoid;
  }
  .print-canvas-container canvas {
    width: 100% !important;
  }
  @page {
    margin: 0.5in;
  }
}
